apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: pip-account-management
  namespace: pip
spec:
  releaseName: pip-account-management
  values:
    java:
      ingressHost: pip-account-management.test.platform.hmcts.net
      environment:
        PUBLICATION_SERVICES_URL: https://pip-publication-services.test.platform.hmcts.net
        SUBSCRIPTION_MANAGEMENT_URL: https://pip-subscription-management.test.platform.hmcts.net
        ENABLE_TESTING_SUPPORT_API: true
        MANAGED_IDENTITY_CLIENT_ID: 0e0c8682-a038-4aa8-9619-bb88a7ba9357
      memoryRequests: '2048Mi'
      cpuRequests: '1500m'
      memoryLimits: '2048Mi'
      cpuLimits: '1500m'
      autoscaling:
        enabled: true
        maxReplicas: 5
        minReplicas: 2
        cpu:
          enabled: true
          averageUtilization: 40
        memory:
          enabled: true
          averageUtilization: 40