apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: pre-api
  namespace: pre
spec:
  releaseName: pre-api
  values:
    java:
      ingressHost: pre-api.test.platform.hmcts.net
      image: sdshmctspublic.azurecr.io/pre/api:pr-1317
      memoryRequests: '3Gi'
      memoryLimits: '3Gi'
      environment:
        AZURE_MEDIA_SERVICES_ACCOUNT_NAME: preamstest
        AZURE_RESOURCE_GROUP: pre-test
        AZURE_SUBSCRIPTION_ID: 3eec5bde-7feb-4566-bfb6-805df6e10b90
        PLATFORM_ENV_TAG: Testing
        MEDIA_SERVICE: MediaKind
        ENABLE_AUTOMATED_EDITING: true
        ENABLE_NULL_DURATION_UPSERT: false
        ENABLE_ENHANCED_PROCESSING: false
        ENABLE_MIGRATION_ADMIN_ENDPOINTS: true
        ENABLE_MIGRATED_DATA: true
        ENABLE_V2_B2C: true
        HIKARI_POOL_SIZE: 25
        PORTAL_URL: https://pre-portal.test.platform.hmcts.net/
        MEDIA_KIND_SUBSCRIPTION: pre-mkio-test
        MEDIA_KIND_SUBSCRIPTION_ID: 5a51adb0-4aa3-47bb-af32-45bbd3ba623d
        TESTING_SUPPORT_ENDPOINTS_ENABLED: true
        MEDIA_KIND_LOCATION: uksouth-4
        TRIGGER_RESTART: 1
