apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: pre-api-cron-vodafone-etl-process-full
  namespace: pre
spec:
  values:
    global:
      jobKind: CronJob
    job:
      memoryRequests: '1Gi'
      memoryLimits: '2Gi'
      schedule: "10 10 1 5 *" # 10 AM 1st May UTC
      suspend: true
      image: sdshmctspublic.azurecr.io/pre/api:prod-15d9b07-20251111143314 # {"$imagepolicy": "flux-system:pre-api"}
      environment:
        AZURE_SUBSCRIPTION_ID: 3eec5bde-7feb-4566-bfb6-805df6e10b90
        PLATFORM_ENV_TAG: Testing
        MEDIA_SERVICE: MediaKind
        PORTAL_URL: https://pre-portal.test.platform.hmcts.net/
        MEDIA_KIND_SUBSCRIPTION: pre-mkio-sbox
        MEDIA_KIND_SUBSCRIPTION_ID: 137dc683-7cf3-4869-b8c7-a9fdcedc0da2
        MEDIA_KIND_LOCATION: uksouth-4
