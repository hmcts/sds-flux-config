apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: pre-api-cron-vodafone-etl-migrate-resolved
  namespace: pre
spec:
  values:
    global:
      jobKind: CronJob
    job:
      schedule: "10 10 1 5 *" # 10 AM 1st May UTC
      suspend: true
      memoryRequests: '1Gi'
      memoryLimits: '2Gi'
      image: hmctsprod.azurecr.io/pre/api:prod-1f129aa-20260220135547 # {"$imagepolicy": "flux-system:pre-api"}
      environment:
        PLATFORM_ENV_TAG: Staging
        ENABLE_NEW_EMAIL_SERVICE: true
