apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- ../../../../namespaces/mi
- ../../../../namespaces/mi/mi-sftp-server

patches:
- target:
    group: aadpodidentity.k8s.io
    version: v1
    kind: AzureIdentity
    name: data-extractor-job
  path: mi-data-extractor-identity-patch.yaml 
- target:
    group: aadpodidentity.k8s.io
    version: v1
    kind: AzureIdentity
    name: mi-extraction-service
  path: mi-extraction-service-identity-patch.yaml
- target:
    group: aadpodidentity.k8s.io
    version: v1
    kind: AzureIdentity
    name: mi-house-keeping-service
  path: mi-house-keeping-service-identity-patch.yaml
- target:
    group: aadpodidentity.k8s.io
    version: v1
    kind: AzureIdentity
    name: mi-integration-service
  path: mi-integration-service-identity-patch.yaml
- target:
    group: aadpodidentity.k8s.io
    version: v1
    kind: AzureIdentity
    name: mi-staging-service
  path: mi-staging-service-identity-patch.yaml
- target:
    group: aadpodidentity.k8s.io
    version: v1
    kind: AzureIdentity
    name: mi-azure-functions
  path: mi-azure-functions-identity-patch.yaml
